<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Issues - Hostel Management System</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #5a88c1, #DBE2EF);
            color: #333;
            line-height: 1.6;
        }

        h2 {
            color: #011a39; /* Red accent for issues */
            margin-bottom: 15px;
        }

        .issue-container {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            border-left: 5px solid #032b5c; /* Red indicator for open issues */
        }
        
        .issue-container.resolved {
            border-left-color: #4caf50; /* Green for resolved */
        }

        .issue-container.rejected {
            border-left-color: #9e9e9e; /* Grey for rejected */
            opacity: 0.8;
        }

        .issue-header {
            font-weight: bold;
            margin-bottom: 5px;
            color: #555;
        }

        .student-comment {
            margin-bottom: 10px;
            font-style: italic;
            color: #777;
        }

        .issue-details {
            margin-bottom: 8px;
        }

        .issue-details span {
            font-weight: bold;
            color: #333;
        }

        .rejected-issues-title {
            color: #757575;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h2>Issues History</h2>

    <div id="open-issues">
        <h3>Open Issues</h3>
        </div>

    <div id="rejected-issues">
        <h3 class="rejected-issues-title">Rejected Issues</h3>
        </div>

    <script>
        const openIssuesDiv = document.getElementById('open-issues');
        // const rejectedIssuesDiv = document.getElementById('rejected-issues');
        const issuesData = [
            {
                id: 1,
                status: 'open',
                issue: 'window not open',
                studentComment: 'ish room ki window open Nahi horahy light janay KY bad karnih bhot hojatih room ma stay karnah muskil hojatah hy',
                username: 'MUHAMMAD SHUBAN',
                roomNumber: 3,
                emailId: 'shaban@gmail.com',
                phoneNo: '0302-9449494'
            },
            {
                id: 2,
                status: 'open',
                issue: 'water issue',
                studentComment: 'Pani Nahi araha 2 din sy',
                username: 'MUHAMMAD SHUBAN',
                roomNumber: 3,
                emailId: 'shaban@gmail.com',
                phoneNo: '0302-9449494'
            },
            {
                id: 3,
                status: 'open',
                issue: 'AC not working',
                studentComment: 'AC not working',
                username: 'EMAN',
                roomNumber: 2,
                emailId: 'alihazahidfsc08@gmail.com',
                phoneNo: '0333-3333333'
            },
            {
                id: 4,
                status: 'rejected',
                issue: 'water issue',
                studentComment: 'Pani Nahi araha hy',
                username: 'MUHAMMAD UMAIR',
                roomNumber: 4,
                emailId: 'umair@gmail.com',
                phoneNo: '0333-9446779'
            }
            // ... more issues
        ];

        function displayIssues() {
            let openIssuesHTML = '';
            let allIssuesHTML = ''; // To display all together

            issuesData.forEach(issue => {
                const issueHTML = `
                    <div class="issue-container ${issue.status}" onclick="openIssueDetails(${issue.id})">
                        <div class="issue-header">Issue: <span>${issue.issue}</span></div>
                        <div class="student-comment">Student Comment: <i>${issue.studentComment}</i></div>
                        <div class="issue-details">Username: <span>${issue.username}</span></div>
                        <div class="issue-details">Room Number: <span>${issue.roomNumber}</span></div>
                        <div class="issue-details">Email Id: <span>${issue.emailId}</span></div>
                        <div class="issue-details">Phone No: <span>${issue.phoneNo}</span></div>
                        <div class="issue-status">Status: <span class="${issue.status}">${issue.status.toUpperCase()}</span></div>
                    </div>
                `;
                allIssuesHTML += issueHTML;

                // If you still want to separate open and rejected visually
                // if (issue.status === 'open') {
                //     openIssuesHTML += issueHTML;
                // } else if (issue.status === 'rejected') {
                //     rejectedIssuesHTML += issueHTML;
                // }
            });

            // If you are displaying all issues together:
            document.getElementById('open-issues').innerHTML = allIssuesHTML;
            document.getElementById('rejected-issues').style.display = 'none'; // Hide the rejected title

            // If you want to keep the visual separation:
            // openIssuesDiv.innerHTML = openIssuesHTML;
            // rejectedIssuesDiv.innerHTML = rejectedIssuesHTML;
        }

        function openIssueDetails(issueId) {
            window.location.href = `issue_details.html?id=${issueId}`;
        }

        document.addEventListener('DOMContentLoaded', displayIssues);
    </script>
</body>
</html>